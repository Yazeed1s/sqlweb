import{S as xe,i as et,s as tt,e as Le,a as X,b as A,g as Oe,t as G,c as Re,d as h,D as st,o as E,A as B,F,h as de,p as w,q as T,B as $,G as z,j as he,r as b,u as c,m as _e,O as M,H as ie,k as be,R as Ue,E as pe,n as Se,T as we,P as lt,Q as je,J as Ae,M as qe,U as Be}from"../chunks/index.97982355.js";import{c as at,a as nt,s as rt}from"../chunks/store.cdf38e91.js";import{f as $e,q as He,a as Fe}from"../chunks/index.7d883f59.js";import{F as ge,f as ot,a as ct,b as it,c as ft,d as ut,e as mt,g as dt}from"../chunks/fa.4cce0e2b.js";function ze(s,e,t){const l=s.slice();return l[56]=e[t],l[57]=e,l[58]=t,l}function Je(s,e,t){const l=s.slice();return l[59]=e[t],l[60]=e,l[61]=t,l}function Ge(s,e,t){const l=s.slice();return l[62]=e[t],l}function Ke(s){let e,t,l,n,a,r,i,m,f,g,v,I,y,d,R,o,_,k,p,J,O,C,N,K,ne,j,U,W,te,Y,re,Q,oe,ve,ye,x,le,ee,fe,Z,Te,Ie,q=s[0].selectedTable&&Qe(s);const Ce=[_t,ht],se=[];function Pe(V,P){return V[6]?0:1}k=Pe(s),p=se[k]=Ce[k](s),ee=new ge({props:{icon:ot}});let L=s[2]&&Ze(s);return{c(){e=E("body"),t=E("header"),l=E("div"),q&&q.c(),n=B(),a=E("div"),r=E("h2"),i=F("Rows: "),m=F(s[11]),f=B(),g=E("h2"),v=F("Columns: "),I=F(s[16]),y=B(),d=E("h2"),R=F("Size: "),o=F(s[17]),_=B(),p.c(),J=B(),O=E("footer"),C=E("div"),N=E("button"),K=F("←"),j=B(),U=E("div"),W=F(s[10]),te=F(" / "),Y=F(s[12]),re=B(),Q=E("button"),oe=F("→"),ye=B(),x=E("div"),le=E("button"),de(ee.$$.fragment),fe=B(),L&&L.c(),this.h()},l(V){e=w(V,"BODY",{class:!0});var P=T(e);t=w(P,"HEADER",{class:!0});var ue=T(t);l=w(ue,"DIV",{class:!0});var ke=T(l);q&&q.l(ke),n=$(ke),a=w(ke,"DIV",{class:!0});var me=T(a);r=w(me,"H2",{class:!0});var Ve=T(r);i=z(Ve,"Rows: "),m=z(Ve,s[11]),Ve.forEach(h),f=$(me),g=w(me,"H2",{class:!0});var De=T(g);v=z(De,"Columns: "),I=z(De,s[16]),De.forEach(h),y=$(me),d=w(me,"H2",{class:!0});var Ne=T(d);R=z(Ne,"Size: "),o=z(Ne,s[17]),Ne.forEach(h),me.forEach(h),ke.forEach(h),ue.forEach(h),_=$(P),p.l(P),J=$(P),O=w(P,"FOOTER",{class:!0});var u=T(O);C=w(u,"DIV",{class:!0});var D=T(C);N=w(D,"BUTTON",{class:!0});var S=T(N);K=z(S,"←"),S.forEach(h),j=$(D),U=w(D,"DIV",{class:!0});var H=T(U);W=z(H,s[10]),te=z(H," / "),Y=z(H,s[12]),H.forEach(h),re=$(D),Q=w(D,"BUTTON",{class:!0});var ae=T(Q);oe=z(ae,"→"),ae.forEach(h),D.forEach(h),ye=$(u),x=w(u,"DIV",{class:!0});var ce=T(x);le=w(ce,"BUTTON",{class:!0});var Ee=T(le);he(ee.$$.fragment,Ee),Ee.forEach(h),fe=$(ce),L&&L.l(ce),ce.forEach(h),u.forEach(h),P.forEach(h),this.h()},h(){b(r,"class","svelte-vmybmm"),b(g,"class","svelte-vmybmm"),b(d,"class","svelte-vmybmm"),b(a,"class","info svelte-vmybmm"),b(l,"class","header svelte-vmybmm"),b(t,"class","svelte-vmybmm"),N.disabled=ne=s[10]===1,b(N,"class","svelte-vmybmm"),b(U,"class","page-number svelte-vmybmm"),Q.disabled=ve=s[10]===s[12],b(Q,"class","svelte-vmybmm"),b(C,"class","pagination svelte-vmybmm"),b(le,"class","svelte-vmybmm"),b(x,"class","_export svelte-vmybmm"),b(O,"class","svelte-vmybmm"),b(e,"class","svelte-vmybmm")},m(V,P){X(V,e,P),c(e,t),c(t,l),q&&q.m(l,null),c(l,n),c(l,a),c(a,r),c(r,i),c(r,m),c(a,f),c(a,g),c(g,v),c(g,I),c(a,y),c(a,d),c(d,R),c(d,o),c(e,_),se[k].m(e,null),c(e,J),c(e,O),c(O,C),c(C,N),c(N,K),c(C,j),c(C,U),c(U,W),c(U,te),c(U,Y),c(C,re),c(C,Q),c(Q,oe),c(O,ye),c(O,x),c(x,le),_e(ee,le,null),c(x,fe),L&&L.m(x,null),s[42](x),Z=!0,Te||(Ie=[M(N,"click",s[21]),M(Q,"click",s[37]),M(le,"click",s[38])],Te=!0)},p(V,P){V[0].selectedTable?q?(q.p(V,P),P[0]&1&&A(q,1)):(q=Qe(V),q.c(),A(q,1),q.m(l,n)):q&&(Oe(),G(q,1,1,()=>{q=null}),Re()),(!Z||P[0]&2048)&&ie(m,V[11]),(!Z||P[0]&65536)&&ie(I,V[16]),(!Z||P[0]&131072)&&ie(o,V[17]);let ue=k;k=Pe(V),k===ue?se[k].p(V,P):(Oe(),G(se[ue],1,1,()=>{se[ue]=null}),Re(),p=se[k],p?p.p(V,P):(p=se[k]=Ce[k](V),p.c()),A(p,1),p.m(e,J)),(!Z||P[0]&1024&&ne!==(ne=V[10]===1))&&(N.disabled=ne),(!Z||P[0]&1024)&&ie(W,V[10]),(!Z||P[0]&4096)&&ie(Y,V[12]),(!Z||P[0]&5120&&ve!==(ve=V[10]===V[12]))&&(Q.disabled=ve),V[2]?L?(L.p(V,P),P[0]&4&&A(L,1)):(L=Ze(V),L.c(),A(L,1),L.m(x,null)):L&&(Oe(),G(L,1,1,()=>{L=null}),Re())},i(V){Z||(A(q),A(p),A(ee.$$.fragment,V),A(L),Z=!0)},o(V){G(q),G(p),G(ee.$$.fragment,V),G(L),Z=!1},d(V){V&&h(e),q&&q.d(),se[k].d(),be(ee),L&&L.d(),s[42](null),Te=!1,Ue(Ie)}}}function Qe(s){let e,t,l,n,a=s[0].selectedTable+"",r,i,m,f,g,v,I,y,d,R,o;f=new ge({props:{icon:ct}});let _=s[8]&&Me(s);return{c(){e=E("div"),t=E("h2"),l=F(s[15]),n=F(" / "),r=F(a),i=B(),m=E("div"),de(f.$$.fragment),g=B(),v=E("button"),I=F("Edit"),y=B(),_&&_.c(),this.h()},l(k){e=w(k,"DIV",{class:!0});var p=T(e);t=w(p,"H2",{class:!0});var J=T(t);l=z(J,s[15]),n=z(J," / "),r=z(J,a),J.forEach(h),i=$(p),m=w(p,"DIV",{style:!0,class:!0});var O=T(m);he(f.$$.fragment,O),O.forEach(h),g=$(p),v=w(p,"BUTTON",{style:!0,id:!0,class:!0});var C=T(v);I=z(C,"Edit"),C.forEach(h),y=$(p),_&&_.l(p),p.forEach(h),this.h()},h(){b(t,"class","path svelte-vmybmm"),pe(m,"cursor","pointer"),b(m,"class","svelte-vmybmm"),b(v,"style",""),b(v,"id","edit-button"),b(v,"class","svelte-vmybmm"),b(e,"class","left-section svelte-vmybmm")},m(k,p){X(k,e,p),c(e,t),c(t,l),c(t,n),c(t,r),c(e,i),c(e,m),_e(f,m,null),c(e,g),c(e,v),c(v,I),c(e,y),_&&_.m(e,null),d=!0,R||(o=[M(m,"click",s[27]),M(m,"keydown",s[28]),M(v,"click",s[29])],R=!0)},p(k,p){(!d||p[0]&32768)&&ie(l,k[15]),(!d||p[0]&1)&&a!==(a=k[0].selectedTable+"")&&ie(r,a),k[8]?_?(_.p(k,p),p[0]&256&&A(_,1)):(_=Me(k),_.c(),A(_,1),_.m(e,null)):_&&(Oe(),G(_,1,1,()=>{_=null}),Re())},i(k){d||(A(f.$$.fragment,k),A(_),d=!0)},o(k){G(f.$$.fragment,k),G(_),d=!1},d(k){k&&h(e),be(f),_&&_.d(),R=!1,Ue(o)}}}function Me(s){let e,t,l,n,a,r,i,m;return t=new ge({props:{icon:it,color:"rgb(var(--color-success-500))"}}),a=new ge({props:{icon:ft,color:"rgb(var(--color-error-500))"}}),{c(){e=E("div"),de(t.$$.fragment),l=B(),n=E("div"),de(a.$$.fragment),this.h()},l(f){e=w(f,"DIV",{style:!0,class:!0});var g=T(e);he(t.$$.fragment,g),g.forEach(h),l=$(f),n=w(f,"DIV",{style:!0,class:!0});var v=T(n);he(a.$$.fragment,v),v.forEach(h),this.h()},h(){pe(e,"cursor","pointer"),pe(e,"margin-left","1rem"),b(e,"class","svelte-vmybmm"),pe(n,"cursor","pointer"),pe(n,"margin-left","1rem"),b(n,"class","svelte-vmybmm")},m(f,g){X(f,e,g),_e(t,e,null),X(f,l,g),X(f,n,g),_e(a,n,null),r=!0,i||(m=[M(e,"click",s[30]),M(e,"keydown",s[31]),M(n,"click",s[32]),M(n,"keydown",s[33])],i=!0)},p:Se,i(f){r||(A(t.$$.fragment,f),A(a.$$.fragment,f),r=!0)},o(f){G(t.$$.fragment,f),G(a.$$.fragment,f),r=!1},d(f){f&&h(e),be(t),f&&h(l),f&&h(n),be(a),i=!1,Ue(m)}}}function ht(s){let e,t,l,n,a,r,i,m,f,g=s[4],v=[];for(let d=0;d<g.length;d+=1)v[d]=Ye(Ge(s,g,d));let I=s[5],y=[];for(let d=0;d<I.length;d+=1)y[d]=We(ze(s,I,d));return{c(){e=E("div"),t=E("div"),l=E("table"),n=E("thead"),a=E("tr");for(let d=0;d<v.length;d+=1)v[d].c();r=B(),i=E("tbody");for(let d=0;d<y.length;d+=1)y[d].c();this.h()},l(d){e=w(d,"DIV",{class:!0});var R=T(e);t=w(R,"DIV",{class:!0});var o=T(t);l=w(o,"TABLE",{class:!0});var _=T(l);n=w(_,"THEAD",{class:!0});var k=T(n);a=w(k,"TR",{class:!0});var p=T(a);for(let O=0;O<v.length;O+=1)v[O].l(p);p.forEach(h),k.forEach(h),r=$(_),i=w(_,"TBODY",{class:!0});var J=T(i);for(let O=0;O<y.length;O+=1)y[O].l(J);J.forEach(h),_.forEach(h),o.forEach(h),R.forEach(h),this.h()},h(){b(a,"class","svelte-vmybmm"),b(n,"class","sticky-header svelte-vmybmm"),b(i,"class","svelte-vmybmm"),b(l,"class","svelte-vmybmm"),b(t,"class","table-container svelte-vmybmm"),b(e,"class","container svelte-vmybmm")},m(d,R){X(d,e,R),c(e,t),c(t,l),c(l,n),c(n,a);for(let o=0;o<v.length;o+=1)v[o]&&v[o].m(a,null);c(l,r),c(l,i);for(let o=0;o<y.length;o+=1)y[o]&&y[o].m(i,null);s[36](l),f=!0},p(d,R){if(R[0]&16){g=d[4];let o;for(o=0;o<g.length;o+=1){const _=Ge(d,g,o);v[o]?v[o].p(_,R):(v[o]=Ye(_),v[o].c(),v[o].m(a,null))}for(;o<v.length;o+=1)v[o].d(1);v.length=g.length}if(R[0]&4219040){I=d[5];let o;for(o=0;o<I.length;o+=1){const _=ze(d,I,o);y[o]?y[o].p(_,R):(y[o]=We(_),y[o].c(),y[o].m(i,null))}for(;o<y.length;o+=1)y[o].d(1);y.length=I.length}},i(d){f||(lt(()=>{f&&(m||(m=je(t,$e,{duration:100},!0)),m.run(1))}),f=!0)},o(d){m||(m=je(t,$e,{duration:100},!1)),m.run(0),f=!1},d(d){d&&h(e),qe(v,d),qe(y,d),s[36](null),d&&m&&m.end()}}}function _t(s){let e;return{c(){e=E("div"),this.h()},l(t){e=w(t,"DIV",{class:!0}),T(e).forEach(h),this.h()},h(){b(e,"class","loader svelte-vmybmm")},m(t,l){X(t,e,l)},p:Se,i:Se,o:Se,d(t){t&&h(e)}}}function Ye(s){let e,t=s[62]+"",l,n;return{c(){e=E("th"),l=F(t),n=B(),this.h()},l(a){e=w(a,"TH",{class:!0});var r=T(e);l=z(r,t),n=$(r),r.forEach(h),this.h()},h(){b(e,"class","svelte-vmybmm")},m(a,r){X(a,e,r),c(e,l),c(e,n)},p(a,r){r[0]&16&&t!==(t=a[62]+"")&&ie(l,t)},d(a){a&&h(e)}}}function bt(s){let e=s[56][s[61]]+"",t;return{c(){t=F(e)},l(l){t=z(l,e)},m(l,n){X(l,t,n)},p(l,n){n[0]&32&&e!==(e=l[56][l[61]]+"")&&ie(t,e)},d(l){l&&h(t)}}}function vt(s){let e,t,l;function n(){s[34].call(e,s[61],s[57],s[58])}return{c(){e=E("input"),this.h()},l(a){e=w(a,"INPUT",{type:!0,style:!0,class:!0}),this.h()},h(){b(e,"type","text"),pe(e,"width","calc(1em * "+(s[56][s[61]].length+1)+")"),b(e,"class","svelte-vmybmm")},m(a,r){X(a,e,r),Be(e,s[56][s[61]]),t||(l=M(e,"input",n),t=!0)},p(a,r){s=a,r[0]&32&&pe(e,"width","calc(1em * "+(s[56][s[61]].length+1)+")"),r[0]&32&&e.value!==s[56][s[61]]&&Be(e,s[56][s[61]])},d(a){a&&h(e),t=!1,l()}}}function Xe(s){let e,t,l;function n(m,f){return m[56].editing&&m[58]===m[13]&&m[61]===m[14]&&m[56][m[61]]!==null&&m[7]?vt:bt}let a=n(s),r=a(s);function i(){return s[35](s[58],s[61])}return{c(){e=E("td"),r.c(),this.h()},l(m){e=w(m,"TD",{class:!0});var f=T(e);r.l(f),f.forEach(h),this.h()},h(){b(e,"class","svelte-vmybmm")},m(m,f){X(m,e,f),r.m(e,null),t||(l=M(e,"click",i),t=!0)},p(m,f){s=m,a===(a=n(s))&&r?r.p(s,f):(r.d(1),r=a(s),r&&(r.c(),r.m(e,null)))},d(m){m&&h(e),r.d(),t=!1,l()}}}function We(s){let e,t,l=s[56],n=[];for(let a=0;a<l.length;a+=1)n[a]=Xe(Je(s,l,a));return{c(){e=E("tr");for(let a=0;a<n.length;a+=1)n[a].c();t=B(),this.h()},l(a){e=w(a,"TR",{class:!0});var r=T(e);for(let i=0;i<n.length;i+=1)n[i].l(r);t=$(r),r.forEach(h),this.h()},h(){b(e,"class","svelte-vmybmm")},m(a,r){X(a,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null);c(e,t)},p(a,r){if(r[0]&4219040){l=a[56];let i;for(i=0;i<l.length;i+=1){const m=Je(a,l,i);n[i]?n[i].p(m,r):(n[i]=Xe(m),n[i].c(),n[i].m(e,t))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(a){a&&h(e),qe(n,a)}}}function Ze(s){let e,t,l,n,a,r,i,m,f,g,v,I,y,d,R,o,_,k,p,J,O,C,N,K,ne;return l=new ge({props:{icon:ut,style:"margin-right: 0.5rem;"}}),g=new ge({props:{icon:mt,style:"margin-right: 0.5rem;"}}),_=new ge({props:{icon:dt,style:"margin-right: 0.5rem;"}}),{c(){e=E("div"),t=E("a"),de(l.$$.fragment),n=B(),a=E("span"),r=F("Export current table to JSON"),m=B(),f=E("a"),de(g.$$.fragment),v=B(),I=E("span"),y=F("Export db schema to SQL"),R=B(),o=E("a"),de(_.$$.fragment),k=B(),p=E("span"),J=F("Export current table to CSV"),this.h()},l(j){e=w(j,"DIV",{class:!0});var U=T(e);t=w(U,"A",{href:!0,class:!0});var W=T(t);he(l.$$.fragment,W),n=$(W),a=w(W,"SPAN",{class:!0});var te=T(a);r=z(te,"Export current table to JSON"),te.forEach(h),W.forEach(h),m=$(U),f=w(U,"A",{href:!0,class:!0});var Y=T(f);he(g.$$.fragment,Y),v=$(Y),I=w(Y,"SPAN",{class:!0});var re=T(I);y=z(re,"Export db schema to SQL"),re.forEach(h),Y.forEach(h),R=$(U),o=w(U,"A",{href:!0,class:!0});var Q=T(o);he(_.$$.fragment,Q),k=$(Q),p=w(Q,"SPAN",{class:!0});var oe=T(p);J=z(oe,"Export current table to CSV"),oe.forEach(h),Q.forEach(h),U.forEach(h),this.h()},h(){b(a,"class","svelte-vmybmm"),b(t,"href","#"),b(t,"class",i=we(s[9]?"item":"disabled")+" svelte-vmybmm"),b(I,"class","svelte-vmybmm"),b(f,"href","#"),b(f,"class",d=we(s[9]?"item":"disabled")+" svelte-vmybmm"),b(p,"class","svelte-vmybmm"),b(o,"href","#"),b(o,"class",O=we(s[9]?"item":"disabled")+" svelte-vmybmm"),b(e,"class","dropdown svelte-vmybmm")},m(j,U){X(j,e,U),c(e,t),_e(l,t,null),c(t,n),c(t,a),c(a,r),c(e,m),c(e,f),_e(g,f,null),c(f,v),c(f,I),c(I,y),c(e,R),c(e,o),_e(_,o,null),c(o,k),c(o,p),c(p,J),N=!0,K||(ne=[M(t,"click",s[39]),M(f,"click",s[40]),M(o,"click",s[41])],K=!0)},p(j,U){s=j,(!N||U[0]&512&&i!==(i=we(s[9]?"item":"disabled")+" svelte-vmybmm"))&&b(t,"class",i),(!N||U[0]&512&&d!==(d=we(s[9]?"item":"disabled")+" svelte-vmybmm"))&&b(f,"class",d),(!N||U[0]&512&&O!==(O=we(s[9]?"item":"disabled")+" svelte-vmybmm"))&&b(o,"class",O)},i(j){N||(A(l.$$.fragment,j),A(g.$$.fragment,j),A(_.$$.fragment,j),lt(()=>{N&&(C||(C=je(e,Fe,{duration:200,y:100,easing:He},!0)),C.run(1))}),N=!0)},o(j){G(l.$$.fragment,j),G(g.$$.fragment,j),G(_.$$.fragment,j),C||(C=je(e,Fe,{duration:200,y:100,easing:He},!1)),C.run(0),N=!1},d(j){j&&h(e),be(l),be(g),be(_),j&&C&&C.end(),K=!1,Ue(ne)}}}function pt(s){let e,t,l=s[9]&&Ke(s);return{c(){l&&l.c(),e=Le()},l(n){l&&l.l(n),e=Le()},m(n,a){l&&l.m(n,a),X(n,e,a),t=!0},p(n,a){n[9]?l?(l.p(n,a),a[0]&512&&A(l,1)):(l=Ke(n),l.c(),A(l,1),l.m(e.parentNode,e)):l&&(Oe(),G(l,1,1,()=>{l=null}),Re())},i(n){t||(A(l),t=!0)},o(n){G(l),t=!1},d(n){l&&l.d(n),n&&h(e)}}}const gt=300;function yt(s,e,t){let l,n=!1,a=null,r=[],i=[],m=[],f=!0,g=!1,v=!1,I=!1,y=1,d,R,o=-1,_=-1,k="",p="",J,O,C,N,K={selectedTable:""};at.subscribe(u=>t(9,I=u)),nt.subscribe(u=>t(15,p=u.name)),st(()=>{const u=rt.subscribe(S=>{const H=S.tableName;t(0,K.selectedTable=S.tableName,K),console.log(H)}),D=S=>{n&&!a.contains(S.target)&&t(2,n=!1)};return document.addEventListener("click",D,!1),()=>{u(),document.addEventListener("click",D,!1)}});const ne=async u=>{const S=await(await fetch("/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).json();console.log(S)},j=async u=>{let D=u==="sql"?`/${u}/export`:`/${u}/export?name=${encodeURIComponent(K.selectedTable)}`,S=u==="sql"?`${p}.sql`:u==="csv"?`${K.selectedTable}.csv`:`${K.selectedTable}.json`;const H=await fetch(D,{method:"GET"});if(!H.ok){console.error("Export request failed.");return}console.log(H.headers);const ae=await H.blob();U(ae,S)},U=(u,D)=>{const S=window.URL.createObjectURL(u),H=document.createElement("a");H.href=S,console.log(D),D&&(H.download=D),H.style.display="none",document.body.appendChild(H),H.click(),window.URL.revokeObjectURL(S),document.body.removeChild(H)},W=async()=>{t(4,r=[]),t(5,i=[]),m=[];let u=`/table?name=${encodeURIComponent(K.selectedTable)}&page=${y}&perPage=${gt}`;try{N=await(await fetch(u,{method:"GET",headers:{"Content-Type":"application/json"}})).json(),console.log(N.data.table.data),N.data.table.data!==null?(t(4,r=Object.keys(N.data.table.data[0])),t(5,i=N.data.table.data.map(S=>Object.values(S)))):t(4,r=N.data.table.columns.map(S=>S.field)),m=N.data.table.columns,J=N.data.table.n_rows,t(16,O=N.data.table.n_columns),t(17,C=N.data.table.size_mb),t(11,d=N.data.total_rows),t(12,R=N.data.total_pages),console.log("header:",r),console.log("rows",i),console.log("rows[0]",i.at(0)),console.log("columns:",m),console.log("total_rows:",d),console.log("total_pages:",R)}catch(D){console.error("Error fetching table data:",D)}},te=()=>{t(6,f=!0),W(),setTimeout(()=>{t(6,f=!1)},1e3)},Y=u=>{u.key==="Enter"&&te()},re=()=>{y<R&&(t(10,y++,y),oe())},Q=()=>{y>1&&(t(10,y--,y),oe())},oe=async()=>{await W()},ve=(u,D)=>{g==!0&&(t(13,o=u),t(14,_=D),t(5,i[u].editing=!0,i),k=i[u][D])},ye=()=>{t(5,i[o][_]=k,i),t(5,i[o].editing=!1,i),t(13,o=-1),t(14,_=-1),ee()},x=u=>{var S,H;let D=i[u];for(let ae=0;ae<D.length;ae++)for(let ce=0;ce<m.length;ce++)if(r[ae]===((S=m.at(ce))==null?void 0:S.field)&&((H=m.at(ce))==null?void 0:H.key)==="PRI"){const Ee={cellValue:D[ae],headerValue:r[ae]};return console.log("obj col is: ",Ee.headerValue),console.log("obj primary key is: ",Ee.cellValue),Ee}},le=async()=>{var S;ee();const u=x(o),D={cellValue:(S=u==null?void 0:u.cellValue)==null?void 0:S.toString(),editedCellValue:i[o][_],headerValue:u==null?void 0:u.headerValue,parentColumn:r[_],tableName:K.selectedTable};console.log(JSON.stringify(D)),await ne(D)},ee=()=>{t(7,g=!g),t(8,v=!v);let u=document.getElementById("edit-button");g?u.style.cssText="background-color:  rgb(var(--color-success-700));":u.style.cssText="background-color:  rgb(var(--color-surface-800));"},fe=u=>{switch(u){case 0:j("json");break;case 1:j("sql");break;case 2:j("csv");break}},Z=()=>te(),Te=u=>Y(u),Ie=()=>ee(),q=()=>le(),Ce=u=>Y(u),se=()=>ye(),Pe=u=>Y(u);function L(u,D,S){D[S][u]=this.value,t(5,i)}const V=(u,D)=>ve(u,D);function P(u){Ae[u?"unshift":"push"](()=>{l=u,t(1,l)})}const ue=()=>re(),ke=()=>t(2,n=!n),me=()=>{fe(0)},Ve=()=>{fe(1)},De=()=>{fe(2)};function Ne(u){Ae[u?"unshift":"push"](()=>{a=u,t(3,a)})}return s.$$.update=()=>{s.$$.dirty[0]&1&&K.selectedTable&&(t(6,f=!0),t(10,y=1),W(),setTimeout(()=>{t(6,f=!1)},1e3))},[K,l,n,a,r,i,f,g,v,I,y,d,R,o,_,p,O,C,te,Y,re,Q,ve,ye,le,ee,fe,Z,Te,Ie,q,Ce,se,Pe,L,V,P,ue,ke,me,Ve,De,Ne]}class kt extends xe{constructor(e){super(),et(this,e,yt,pt,tt,{},null,[-1,-1,-1])}}function Et(s){let e,t;return e=new kt({}),{c(){de(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){_e(e,l,n),t=!0},p:Se,i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){be(e,l)}}}class Nt extends xe{constructor(e){super(),et(this,e,null,Et,tt,{})}}export{Nt as component};
