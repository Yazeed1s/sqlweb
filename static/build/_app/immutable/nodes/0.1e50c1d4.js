import{S as Me,i as He,s as Fe,o as h,F as $,A as D,h as oe,p as v,q as g,G as V,d as f,B as T,j as ce,r as c,a as J,u as n,m as ie,O,n as at,b as C,t as j,k as ue,R as Ge,D as Ct,Y as At,g as we,c as Se,T as kt,P as Ue,Q as Re,J as Ut,E as Ce,Z as Ae,U as x,_ as Rt,H as Ee,M as jt,$ as yt,e as qt,f as Qt,L as Mt,l as Ht,v as Ft,w as Gt,x as Bt}from"../chunks/index.97982355.js";import{E as Jt,p as zt}from"../chunks/1.34c4d80c.js";import{F as je,e as Yt,h as Kt,i as Zt,j as Wt}from"../chunks/fa.4cce0e2b.js";import{c as Xt}from"../chunks/singletons.1072e2bc.js";import{q as wt,a as St,f as Pt}from"../chunks/index.7d883f59.js";import{c as Qe,t as xt,a as es}from"../chunks/store.cdf38e91.js";/* empty css                                                         */const qe=Xt("goto");function ts(o){let t,e,s,i,r,a,d,l,u,k,m,p,w,b,E;return a=new je({props:{icon:Yt,size:"1.2rem"}}),p=new je({props:{icon:Kt,size:"1.2rem"}}),{c(){t=h("div"),e=h("div"),s=h("span"),i=$("Database"),r=D(),oe(a.$$.fragment),d=D(),l=h("div"),u=h("span"),k=$("SQL"),m=D(),oe(p.$$.fragment),this.h()},l(_){t=v(_,"DIV",{});var y=g(t);e=v(y,"DIV",{class:!0});var S=g(e);s=v(S,"SPAN",{class:!0});var q=g(s);i=V(q,"Database"),q.forEach(f),r=T(S),ce(a.$$.fragment,S),S.forEach(f),d=T(y),l=v(y,"DIV",{class:!0});var I=g(l);u=v(I,"SPAN",{class:!0});var N=g(u);k=V(N,"SQL"),N.forEach(f),m=T(I),ce(p.$$.fragment,I),I.forEach(f),y.forEach(f),this.h()},h(){c(s,"class","sidebar-tooltip svelte-u0rffq"),c(e,"class","sidebar-icon svelte-u0rffq"),c(u,"class","sidebar-tooltip svelte-u0rffq"),c(l,"class","sidebar-icon svelte-u0rffq")},m(_,y){J(_,t,y),n(t,e),n(e,s),n(s,i),n(e,r),ie(a,e,null),n(t,d),n(t,l),n(l,u),n(u,k),n(l,m),ie(p,l,null),w=!0,b||(E=[O(e,"click",o[1]),O(e,"keydown",ss),O(e,"keyup",as),O(e,"keypress",ls),O(l,"click",o[2]),O(l,"keydown",ns),O(l,"keyup",rs),O(l,"keypress",os)],b=!0)},p:at,i(_){w||(C(a.$$.fragment,_),C(p.$$.fragment,_),w=!0)},o(_){j(a.$$.fragment,_),j(p.$$.fragment,_),w=!1},d(_){_&&f(t),ue(a),ue(p),b=!1,Ge(E)}}}const ss=()=>{},as=()=>{},ls=()=>{},ns=()=>{},rs=()=>{},os=()=>{};function cs(o){Ct(()=>{const a=document.querySelector(".sidebar-icon");return a==null||a.addEventListener("mouseenter",e),a==null||a.addEventListener("mouseleave",s),()=>{a==null||a.removeEventListener("mouseenter",e),a==null||a.removeEventListener("mouseleave",s)}});const t=a=>{switch(a){case"database":qe("/db");break;case"settings":qe("/connection");break;case"sql":qe("/editor");break}},e=()=>{},s=()=>{};return[t,()=>t("database"),()=>t("sql")]}class is extends Me{constructor(t){super(),He(this,t,cs,ts,Fe,{})}}const us=""+new URL("../assets/go4.8f948f43.png",import.meta.url).href;function Dt(o){let t,e,s,i,r,a,d,l,u,k,m;return s=new je({props:{icon:Wt,style:"margin-right: 0.5rem;"}}),{c(){t=h("div"),e=h("a"),oe(s.$$.fragment),i=D(),r=h("span"),a=$("Disconnect"),this.h()},l(p){t=v(p,"DIV",{class:!0});var w=g(t);e=v(w,"A",{href:!0,class:!0});var b=g(e);ce(s.$$.fragment,b),i=T(b),r=v(b,"SPAN",{class:!0});var E=g(r);a=V(E,"Disconnect"),E.forEach(f),b.forEach(f),w.forEach(f),this.h()},h(){c(r,"class","svelte-110c59r"),c(e,"href","#"),c(e,"class",d=kt(o[2]?"item":"disabled")+" svelte-110c59r"),c(t,"class","dropdown svelte-110c59r")},m(p,w){J(p,t,w),n(t,e),ie(s,e,null),n(e,i),n(e,r),n(r,a),u=!0,k||(m=[O(e,"click",o[6]),O(e,"keydown",o[7])],k=!0)},p(p,w){o=p,(!u||w&4&&d!==(d=kt(o[2]?"item":"disabled")+" svelte-110c59r"))&&c(e,"class",d)},i(p){u||(C(s.$$.fragment,p),Ue(()=>{u&&(l||(l=Re(t,St,{duration:200,x:100,easing:wt},!0)),l.run(1))}),u=!0)},o(p){j(s.$$.fragment,p),l||(l=Re(t,St,{duration:200,x:100,easing:wt},!1)),l.run(0),u=!1},d(p){p&&f(t),ue(s),p&&l&&l.end(),k=!1,Ge(m)}}}function fs(o){let t,e,s,i,r,a,d,l,u,k,m,p,w,b,E;m=new je({props:{icon:Zt}});let _=o[0]&&Dt(o);return{c(){t=h("div"),e=h("div"),s=h("img"),r=D(),a=h("strong"),d=$("DBit"),l=D(),u=h("div"),k=h("button"),oe(m.$$.fragment),p=D(),_&&_.c(),this.h()},l(y){t=v(y,"DIV",{class:!0});var S=g(t);e=v(S,"DIV",{class:!0});var q=g(e);s=v(q,"IMG",{src:!0,alt:!0,class:!0}),r=T(q),a=v(q,"STRONG",{class:!0});var I=g(a);d=V(I,"DBit"),I.forEach(f),q.forEach(f),l=T(S),u=v(S,"DIV",{class:!0});var N=g(u);k=v(N,"BUTTON",{});var Q=g(k);ce(m.$$.fragment,Q),Q.forEach(f),p=T(N),_&&_.l(N),N.forEach(f),S.forEach(f),this.h()},h(){At(s.src,i=us)||c(s,"src",i),c(s,"alt","Go"),c(s,"class","small-image svelte-110c59r"),c(a,"class","title svelte-110c59r"),c(e,"class","dbit-container svelte-110c59r"),c(u,"class","top-navigation-icon svelte-110c59r"),c(t,"class","top-navigation svelte-110c59r")},m(y,S){J(y,t,S),n(t,e),n(e,s),n(e,r),n(e,a),n(a,d),n(t,l),n(t,u),n(u,k),ie(m,k,null),n(u,p),_&&_.m(u,null),o[8](u),w=!0,b||(E=O(k,"click",o[5]),b=!0)},p(y,[S]){y[0]?_?(_.p(y,S),S&1&&C(_,1)):(_=Dt(y),_.c(),C(_,1),_.m(u,null)):_&&(we(),j(_,1,1,()=>{_=null}),Se())},i(y){w||(C(m.$$.fragment,y),C(_),w=!0)},o(y){j(m.$$.fragment,y),j(_),w=!1},d(y){y&&f(t),ue(m),_&&_.d(),o[8](null),b=!1,E()}}}function ds(o,t,e){let s=!1,i=null,r=!1,a=[];Qe.subscribe(q=>{e(2,r=q)}),Ct(()=>{const q=N=>{s&&!i.contains(N.target)&&e(0,s=!1)},I=N=>{s&&N.key==="Escape"&&e(0,s=!1)};return document.addEventListener("click",q,!1),document.addEventListener("keyup",I,!1),()=>{document.removeEventListener("click",q,!1),document.removeEventListener("keyup",I,!1)}});const d=q=>{switch(q){case 0:k();break;case 1:m();break}},l=q=>{qe(`/${q}`)},u=async(q,I,N)=>{try{const Q={method:I,headers:{"Content-Type":"application/json"},body:JSON.stringify(N)},se=await fetch(q,Q),G=await se.json();return se.ok?p("",G):w(G),G}catch(Q){console.error("An error occurred:",Q)}},k=async()=>{await u("/disconnect","POST")},m=async()=>{a=(await u("/schemas","GET")).schemas,console.log(a)},p=(q,I)=>{I.message,Qe.set(!1),l(q)},w=q=>{q.error},b=(q,I)=>{q.key==="Enter"&&d(I)},E=()=>e(0,s=!s),_=()=>d(0),y=q=>b(q,0);function S(q){Ut[q?"unshift":"push"](()=>{i=q,e(1,i)})}return[s,i,r,d,b,E,_,y,S]}class ps extends Me{constructor(t){super(),He(this,t,ds,fs,Fe,{})}}function Tt(o,t,e){const s=o.slice();return s[27]=t[e],s}function hs(o){let t,e,s,i,r;return{c(){t=h("div"),e=h("span"),s=$("Socket path"),i=D(),r=h("input"),this.h()},l(a){t=v(a,"DIV",{class:!0});var d=g(t);e=v(d,"SPAN",{class:!0});var l=g(e);s=V(l,"Socket path"),l.forEach(f),i=T(d),r=v(d,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),d.forEach(f),this.h()},h(){c(e,"class","details svelte-1qt9ha3"),c(r,"class","input svelte-1qt9ha3"),c(r,"name","socketPath"),c(r,"type","text"),c(r,"placeholder","Enter socket path..."),c(t,"class","input-box svelte-1qt9ha3")},m(a,d){J(a,t,d),n(t,e),n(e,s),n(t,i),n(t,r)},p:at,d(a){a&&f(t)}}}function vs(o){let t,e,s,i,r,a,d,l,u,k,m,p,w;return{c(){t=h("div"),e=h("span"),s=$("Host"),i=D(),r=h("input"),a=D(),d=h("div"),l=h("span"),u=$("Port"),k=D(),m=h("input"),this.h()},l(b){t=v(b,"DIV",{class:!0});var E=g(t);e=v(E,"SPAN",{class:!0});var _=g(e);s=V(_,"Host"),_.forEach(f),i=T(E),r=v(E,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),E.forEach(f),a=T(b),d=v(b,"DIV",{class:!0});var y=g(d);l=v(y,"SPAN",{class:!0});var S=g(l);u=V(S,"Port"),S.forEach(f),k=T(y),m=v(y,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),y.forEach(f),this.h()},h(){c(e,"class","details svelte-1qt9ha3"),c(r,"class","input svelte-1qt9ha3"),c(r,"name","host"),c(r,"type","text"),c(r,"placeholder","Enter host..."),c(t,"class","input-box svelte-1qt9ha3"),c(l,"class","details svelte-1qt9ha3"),c(m,"class","input svelte-1qt9ha3"),c(m,"name","port"),c(m,"type","text"),c(m,"placeholder","Enter port..."),c(d,"class","input-box svelte-1qt9ha3")},m(b,E){J(b,t,E),n(t,e),n(e,s),n(t,i),n(t,r),x(r,o[0].host),J(b,a,E),J(b,d,E),n(d,l),n(l,u),n(d,k),n(d,m),x(m,o[0].port),p||(w=[O(r,"input",o[16]),O(m,"input",o[17])],p=!0)},p(b,E){E&1&&r.value!==b[0].host&&x(r,b[0].host),E&1&&m.value!==b[0].port&&x(m,b[0].port)},d(b){b&&f(t),b&&f(a),b&&f(d),p=!1,Ge(w)}}}function It(o){let t,e,s,i,r,a,d;return{c(){t=h("div"),e=h("p"),s=$("Error: "),i=$(o[3]),r=D(),a=h("p"),d=$(o[4]),this.h()},l(l){t=v(l,"DIV",{class:!0,role:!0});var u=g(t);e=v(u,"P",{class:!0});var k=g(e);s=V(k,"Error: "),i=V(k,o[3]),k.forEach(f),r=T(u),a=v(u,"P",{class:!0});var m=g(a);d=V(m,o[4]),m.forEach(f),u.forEach(f),this.h()},h(){c(e,"class","font-error svelte-1qt9ha3"),c(a,"class","msg svelte-1qt9ha3"),c(t,"class","error svelte-1qt9ha3"),c(t,"role","alert")},m(l,u){J(l,t,u),n(t,e),n(e,s),n(e,i),n(t,r),n(t,a),n(a,d)},p(l,u){u&8&&Ee(i,l[3]),u&16&&Ee(d,l[4])},d(l){l&&f(t)}}}function Nt(o){let t,e,s;return{c(){t=h("div"),e=h("p"),s=$(o[4]),this.h()},l(i){t=v(i,"DIV",{class:!0,role:!0});var r=g(t);e=v(r,"P",{class:!0});var a=g(e);s=V(a,o[4]),a.forEach(f),r.forEach(f),this.h()},h(){c(e,"class","font svelte-1qt9ha3"),c(t,"class","success svelte-1qt9ha3"),c(t,"role","alert")},m(i,r){J(i,t,r),n(t,e),n(e,s)},p(i,r){r&16&&Ee(s,i[4])},d(i){i&&f(t)}}}function $t(o){let t,e,s,i=o[1],r=[];for(let a=0;a<i.length;a+=1)r[a]=Vt(Tt(o,i,a));return{c(){t=h("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){t=v(a,"DIV",{class:!0});var d=g(t);for(let l=0;l<r.length;l+=1)r[l].l(d);d.forEach(f),this.h()},h(){c(t,"class","saved-connections-box svelte-1qt9ha3")},m(a,d){J(a,t,d);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null);s=!0},p(a,d){if(d&8194){i=a[1];let l;for(l=0;l<i.length;l+=1){const u=Tt(a,i,l);r[l]?r[l].p(u,d):(r[l]=Vt(u),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=i.length}},i(a){s||(Ue(()=>{s&&(e||(e=Re(t,Pt,{duration:200},!0)),e.run(1))}),s=!0)},o(a){e||(e=Re(t,Pt,{duration:200},!1)),e.run(0),s=!1},d(a){a&&f(t),jt(r,a),a&&e&&e.end()}}}function Vt(o){let t,e,s=o[27].databaseType+"",i,r,a=o[27].user+"",d,l,u=o[27].database+"",k,m,p,w;function b(){return o[24](o[27])}return{c(){t=h("div"),e=h("span"),i=$(s),r=$(" / "),d=$(a),l=$(" / "),k=$(u),m=D(),this.h()},l(E){t=v(E,"DIV",{class:!0});var _=g(t);e=v(_,"SPAN",{class:!0});var y=g(e);i=V(y,s),r=V(y," / "),d=V(y,a),l=V(y," / "),k=V(y,u),y.forEach(f),m=T(_),_.forEach(f),this.h()},h(){c(e,"class","svelte-1qt9ha3"),c(t,"class","single-connection svelte-1qt9ha3")},m(E,_){J(E,t,_),n(t,e),n(e,i),n(e,r),n(e,d),n(e,l),n(e,k),n(t,m),p||(w=O(t,"click",b),p=!0)},p(E,_){o=E,_&2&&s!==(s=o[27].databaseType+"")&&Ee(i,s),_&2&&a!==(a=o[27].user+"")&&Ee(d,a),_&2&&u!==(u=o[27].database+"")&&Ee(k,u)},d(E){E&&f(t),p=!1,w()}}}function _s(o){let t,e,s,i,r,a,d,l,u,k,m,p,w,b,E,_,y,S,q,I,N,Q,se,G,ke,ye,fe,W,ae,L,B,A,Be,le,de,Je,ze,Y,Ye,ne,pe,Ke,Ze,K,We,Pe,De,re,he,ee,Xe,ve,te,xe,_e,me,Z,et,be,tt,lt;function nt(P,R){if(P[2]==="h")return vs;if(P[2]==="s")return hs}let ge=nt(o),M=ge&&ge(o),H=o[5]&&It(o),F=o[6]&&Nt(o),U=o[7]&&$t(o);return{c(){t=h("div"),e=h("div"),s=h("form"),i=h("div"),r=h("div"),a=h("span"),d=$("Database type"),l=D(),u=h("select"),k=h("option"),m=$("MySQL"),p=h("option"),w=$("PostgreSQL"),b=h("option"),E=$("SQLite"),_=D(),y=h("div"),S=h("span"),q=$("Connection mode"),I=D(),N=h("select"),Q=h("option"),se=$("Host and Port"),G=h("option"),ke=$("Socket"),ye=D(),M&&M.c(),fe=D(),W=h("div"),ae=h("span"),L=$("User"),B=D(),A=h("input"),Be=D(),le=h("div"),de=h("span"),Je=$("Password"),ze=D(),Y=h("input"),Ye=D(),ne=h("div"),pe=h("span"),Ke=$("Default database"),Ze=D(),K=h("input"),We=D(),H&&H.c(),Pe=D(),F&&F.c(),De=D(),re=h("div"),he=h("div"),ee=h("input"),Xe=D(),ve=h("div"),te=h("input"),xe=D(),_e=h("div"),me=h("div"),Z=h("input"),et=D(),U&&U.c(),this.h()},l(P){t=v(P,"DIV",{class:!0});var R=g(t);e=v(R,"DIV",{class:!0});var X=g(e);s=v(X,"FORM",{method:!0,class:!0});var rt=g(s);i=v(rt,"DIV",{class:!0});var z=g(i);r=v(z,"DIV",{class:!0});var Te=g(r);a=v(Te,"SPAN",{class:!0});var ot=g(a);d=V(ot,"Database type"),ot.forEach(f),l=T(Te),u=v(Te,"SELECT",{class:!0});var Ie=g(u);k=v(Ie,"OPTION",{class:!0});var ct=g(k);m=V(ct,"MySQL"),ct.forEach(f),p=v(Ie,"OPTION",{class:!0});var it=g(p);w=V(it,"PostgreSQL"),it.forEach(f),b=v(Ie,"OPTION",{class:!0});var ut=g(b);E=V(ut,"SQLite"),ut.forEach(f),Ie.forEach(f),Te.forEach(f),_=T(z),y=v(z,"DIV",{class:!0});var Ne=g(y);S=v(Ne,"SPAN",{class:!0});var ft=g(S);q=V(ft,"Connection mode"),ft.forEach(f),I=T(Ne),N=v(Ne,"SELECT",{class:!0});var st=g(N);Q=v(st,"OPTION",{class:!0});var dt=g(Q);se=V(dt,"Host and Port"),dt.forEach(f),G=v(st,"OPTION",{class:!0});var pt=g(G);ke=V(pt,"Socket"),pt.forEach(f),st.forEach(f),Ne.forEach(f),ye=T(z),M&&M.l(z),fe=T(z),W=v(z,"DIV",{class:!0});var $e=g(W);ae=v($e,"SPAN",{class:!0});var ht=g(ae);L=V(ht,"User"),ht.forEach(f),B=T($e),A=v($e,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),$e.forEach(f),Be=T(z),le=v(z,"DIV",{class:!0});var Ve=g(le);de=v(Ve,"SPAN",{class:!0});var vt=g(de);Je=V(vt,"Password"),vt.forEach(f),ze=T(Ve),Y=v(Ve,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),Ve.forEach(f),Ye=T(z),ne=v(z,"DIV",{class:!0});var Le=g(ne);pe=v(Le,"SPAN",{class:!0});var _t=g(pe);Ke=V(_t,"Default database"),_t.forEach(f),Ze=T(Le),K=v(Le,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),Le.forEach(f),z.forEach(f),rt.forEach(f),We=T(X),H&&H.l(X),Pe=T(X),F&&F.l(X),De=T(X),re=v(X,"DIV",{class:!0});var Oe=g(re);he=v(Oe,"DIV",{class:!0});var mt=g(he);ee=v(mt,"INPUT",{type:!0,class:!0}),mt.forEach(f),Xe=T(Oe),ve=v(Oe,"DIV",{class:!0});var bt=g(ve);te=v(bt,"INPUT",{type:!0,class:!0}),bt.forEach(f),Oe.forEach(f),xe=T(X),_e=v(X,"DIV",{class:!0});var gt=g(_e);me=v(gt,"DIV",{class:!0});var Et=g(me);Z=v(Et,"INPUT",{style:!0,type:!0,class:!0}),Et.forEach(f),gt.forEach(f),X.forEach(f),et=T(R),U&&U.l(R),R.forEach(f),this.h()},h(){c(a,"class","details svelte-1qt9ha3"),k.__value="MySQL",k.value=k.__value,c(k,"class","svelte-1qt9ha3"),p.__value="postgreSQL",p.value=p.__value,c(p,"class","svelte-1qt9ha3"),b.__value="SQLite",b.value=b.__value,c(b,"class","svelte-1qt9ha3"),c(u,"class","select svelte-1qt9ha3"),o[0].databaseType===void 0&&Ue(()=>o[14].call(u)),c(r,"class","input-box svelte-1qt9ha3"),c(S,"class","details svelte-1qt9ha3"),Q.__value="h",Q.value=Q.__value,c(Q,"class","svelte-1qt9ha3"),G.__value="s",G.value=G.__value,c(G,"class","svelte-1qt9ha3"),c(N,"class","select svelte-1qt9ha3"),o[2]===void 0&&Ue(()=>o[15].call(N)),c(y,"class","input-box svelte-1qt9ha3"),c(ae,"class","details svelte-1qt9ha3"),c(A,"class","input svelte-1qt9ha3"),c(A,"name","name"),c(A,"type","text"),c(A,"placeholder","Enter username..."),c(W,"class","input-box svelte-1qt9ha3"),c(de,"class","details svelte-1qt9ha3"),c(Y,"class","input svelte-1qt9ha3"),c(Y,"name","password"),c(Y,"type","password"),c(Y,"placeholder","Enter password..."),c(le,"class","input-box svelte-1qt9ha3"),c(pe,"class","details svelte-1qt9ha3"),c(K,"class","input svelte-1qt9ha3"),c(K,"name","database"),c(K,"type","text"),c(K,"placeholder","Enter database name..."),c(ne,"class","input-box svelte-1qt9ha3"),c(i,"class","user-details svelte-1qt9ha3"),c(s,"method","POST"),c(s,"class","svelte-1qt9ha3"),c(ee,"type","submit"),ee.value="Connect",ee.disabled=o[8],c(ee,"class","svelte-1qt9ha3"),c(he,"class","button svelte-1qt9ha3"),c(te,"type","submit"),te.value="Save connection",te.disabled=o[8],c(te,"class","svelte-1qt9ha3"),c(ve,"class","button svelte-1qt9ha3"),c(re,"class","button-container svelte-1qt9ha3"),Ce(Z,"width","185px"),Ce(Z,"align-self","flex-start"),Ce(Z,"color","rgb(var(--color-surface-100))"),Ce(Z,"background-color","rgb(var(--color-surface-500))"),c(Z,"type","submit"),Z.value="View saved connections",c(Z,"class","svelte-1qt9ha3"),c(me,"class","button svelte-1qt9ha3"),c(_e,"class","saved-button-container svelte-1qt9ha3"),c(e,"class","content svelte-1qt9ha3"),c(t,"class","container svelte-1qt9ha3")},m(P,R){J(P,t,R),n(t,e),n(e,s),n(s,i),n(i,r),n(r,a),n(a,d),n(r,l),n(r,u),n(u,k),n(k,m),n(u,p),n(p,w),n(u,b),n(b,E),Ae(u,o[0].databaseType,!0),n(i,_),n(i,y),n(y,S),n(S,q),n(y,I),n(y,N),n(N,Q),n(Q,se),n(N,G),n(G,ke),Ae(N,o[2],!0),n(i,ye),M&&M.m(i,null),n(i,fe),n(i,W),n(W,ae),n(ae,L),n(W,B),n(W,A),x(A,o[0].user),n(i,Be),n(i,le),n(le,de),n(de,Je),n(le,ze),n(le,Y),x(Y,o[0].password),n(i,Ye),n(i,ne),n(ne,pe),n(pe,Ke),n(ne,Ze),n(ne,K),x(K,o[0].database),n(e,We),H&&H.m(e,null),n(e,Pe),F&&F.m(e,null),n(e,De),n(e,re),n(re,he),n(he,ee),n(re,Xe),n(re,ve),n(ve,te),n(e,xe),n(e,_e),n(_e,me),n(me,Z),n(t,et),U&&U.m(t,null),be=!0,tt||(lt=[O(u,"change",o[14]),O(N,"change",o[15]),O(A,"input",o[18]),O(Y,"input",o[19]),O(K,"input",o[20]),O(s,"submit",Rt(o[12])),O(ee,"click",o[21]),O(te,"click",o[22]),O(Z,"click",o[23])],tt=!0)},p(P,[R]){R&1&&Ae(u,P[0].databaseType),R&4&&Ae(N,P[2]),ge===(ge=nt(P))&&M?M.p(P,R):(M&&M.d(1),M=ge&&ge(P),M&&(M.c(),M.m(i,fe))),R&1&&A.value!==P[0].user&&x(A,P[0].user),R&1&&Y.value!==P[0].password&&x(Y,P[0].password),R&1&&K.value!==P[0].database&&x(K,P[0].database),P[5]?H?H.p(P,R):(H=It(P),H.c(),H.m(e,Pe)):H&&(H.d(1),H=null),P[6]?F?F.p(P,R):(F=Nt(P),F.c(),F.m(e,De)):F&&(F.d(1),F=null),(!be||R&256)&&(ee.disabled=P[8]),(!be||R&256)&&(te.disabled=P[8]),P[7]?U?(U.p(P,R),R&128&&C(U,1)):(U=$t(P),U.c(),C(U,1),U.m(t,null)):U&&(we(),j(U,1,1,()=>{U=null}),Se())},i(P){be||(C(U),be=!0)},o(P){j(U),be=!1},d(P){P&&f(t),M&&M.d(),H&&H.d(),F&&F.d(),U&&U.d(),tt=!1,Ge(lt)}}}function ms(o,t,e){let s={host:"",port:0,user:"",password:"",databaseType:"",database:""},i=[],r="h",a="",d="",l=!1,u=!1,k=!1,m=!0;const p=async()=>{e(0,s.port=parseInt(s.port,10),s),e(0,s.databaseType=s.databaseType.toLocaleLowerCase(),s);const L=await fetch("/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),B=await L.json();L.ok?E(B):_(B)},w=async()=>{e(0,s.port=parseInt(s.port,10),s);const L=await fetch("/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),B=await L.json();L.ok?E(B):_(B)},b=async()=>{e(0,s.port=parseInt(s.port,10),s);const L=await fetch("/saved/connections",{method:"GET",headers:{"Content-Type":"application/json"}}),B=await L.json();L.ok?(e(7,k=!k),e(1,i=B.data.map(A=>({host:A.host,port:A.port,user:A.user,password:A.password,databaseType:A.databaseType,database:A.database}))),console.log(i[0])):_(B)},E=L=>{if(L.data){const B=L.data.tables.map(A=>({name:A.table_name,columns:A.columns}));e(6,u=!0),xt.set({tables:B}),es.set({name:L.data.schema}),Qe.set(!0),qe("/db")}e(5,l=!1),e(6,u=!0),e(4,d=L.message)},_=L=>{e(6,u=!1),e(5,l=!0),e(3,a=L.error),e(4,d=L.message)},y=async()=>{await p()},S=L=>{e(0,s=L)};function q(){s.databaseType=yt(this),e(0,s)}function I(){r=yt(this),e(2,r)}function N(){s.host=this.value,e(0,s)}function Q(){s.port=this.value,e(0,s)}function se(){s.user=this.value,e(0,s)}function G(){s.password=this.value,e(0,s)}function ke(){s.database=this.value,e(0,s)}const ye=()=>p(),fe=()=>w(),W=()=>b(),ae=L=>S(L);return o.$$.update=()=>{o.$$.dirty&1&&e(8,m=s.host===""||s.port===0||s.user===""||s.password===""||s.databaseType===""||s.database==="")},[s,i,r,a,d,l,u,k,m,p,w,b,y,S,q,I,N,Q,se,G,ke,ye,fe,W,ae]}class bs extends Me{constructor(t){super(),He(this,t,ms,_s,Fe,{})}}function gs(o){let t,e;return t=new Jt({}),{c(){oe(t.$$.fragment)},l(s){ce(t.$$.fragment,s)},m(s,i){ie(t,s,i),e=!0},p:at,i(s){e||(C(t.$$.fragment,s),e=!0)},o(s){j(t.$$.fragment,s),e=!1},d(s){ue(t,s)}}}function Es(o){let t,e,s,i,r,a,d,l,u,k;s=new ps({});let m=o[0]&&Lt(),p=!o[0]&&Ot();const w=o[3].default,b=Ht(w,o,o[2],null);return{c(){t=h("body"),e=h("header"),oe(s.$$.fragment),i=D(),r=h("div"),a=h("aside"),m&&m.c(),d=D(),l=h("main"),p&&p.c(),u=D(),b&&b.c(),this.h()},l(E){t=v(E,"BODY",{class:!0});var _=g(t);e=v(_,"HEADER",{class:!0});var y=g(e);ce(s.$$.fragment,y),y.forEach(f),i=T(_),r=v(_,"DIV",{class:!0});var S=g(r);a=v(S,"ASIDE",{class:!0});var q=g(a);m&&m.l(q),q.forEach(f),d=T(S),l=v(S,"MAIN",{class:!0});var I=g(l);p&&p.l(I),u=T(I),b&&b.l(I),I.forEach(f),S.forEach(f),_.forEach(f),this.h()},h(){c(e,"class","svelte-a654h0"),c(a,"class","left svelte-a654h0"),c(l,"class","svelte-a654h0"),c(r,"class","content svelte-a654h0"),c(t,"class","svelte-a654h0")},m(E,_){J(E,t,_),n(t,e),ie(s,e,null),n(t,i),n(t,r),n(r,a),m&&m.m(a,null),n(r,d),n(r,l),p&&p.m(l,null),n(l,u),b&&b.m(l,null),k=!0},p(E,_){E[0]?m?_&1&&C(m,1):(m=Lt(),m.c(),C(m,1),m.m(a,null)):m&&(we(),j(m,1,1,()=>{m=null}),Se()),E[0]?p&&(we(),j(p,1,1,()=>{p=null}),Se()):p?_&1&&C(p,1):(p=Ot(),p.c(),C(p,1),p.m(l,u)),b&&b.p&&(!k||_&4)&&Ft(b,w,E,E[2],k?Bt(w,E[2],_,null):Gt(E[2]),null)},i(E){k||(C(s.$$.fragment,E),C(m),C(p),C(b,E),k=!0)},o(E){j(s.$$.fragment,E),j(m),j(p),j(b,E),k=!1},d(E){E&&f(t),ue(s),m&&m.d(),p&&p.d(),b&&b.d(E)}}}function Lt(o){let t,e;return t=new is({}),{c(){oe(t.$$.fragment)},l(s){ce(t.$$.fragment,s)},m(s,i){ie(t,s,i),e=!0},i(s){e||(C(t.$$.fragment,s),e=!0)},o(s){j(t.$$.fragment,s),e=!1},d(s){ue(t,s)}}}function Ot(o){let t,e;return t=new bs({}),{c(){oe(t.$$.fragment)},l(s){ce(t.$$.fragment,s)},m(s,i){ie(t,s,i),e=!0},i(s){e||(C(t.$$.fragment,s),e=!0)},o(s){j(t.$$.fragment,s),e=!1},d(s){ue(t,s)}}}function ks(o){let t,e,s,i;const r=[Es,gs],a=[];function d(l,u){return l[1].error?1:0}return t=d(o),e=a[t]=r[t](o),{c(){e.c(),s=qt()},l(l){e.l(l),s=qt()},m(l,u){a[t].m(l,u),J(l,s,u),i=!0},p(l,[u]){let k=t;t=d(l),t===k?a[t].p(l,u):(we(),j(a[k],1,1,()=>{a[k]=null}),Se(),e=a[t],e?e.p(l,u):(e=a[t]=r[t](l),e.c()),C(e,1),e.m(s.parentNode,s))},i(l){i||(C(e),i=!0)},o(l){j(e),i=!1},d(l){a[t].d(l),l&&f(s)}}}function ys(o,t,e){let s;Qt(o,zt,l=>e(1,s=l));let{$$slots:i={},$$scope:r}=t,a=!1;const d=Qe.subscribe(l=>{e(0,a=l)});return Mt(()=>{d()}),o.$$set=l=>{"$$scope"in l&&e(2,r=l.$$scope)},[a,s,r,i]}class Ns extends Me{constructor(t){super(),He(this,t,ys,ks,Fe,{})}}export{Ns as component};
