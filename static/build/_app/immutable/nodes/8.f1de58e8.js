import{S as x,i as $,s as ee,o as y,p as O,q as w,d as p,r as _,E as Ce,a as P,u as m,n as Q,a0 as De,D as Ae,C as ke,J as X,e as ne,b as L,g as Be,t as W,c as Re,a1 as re,h as we,A as T,F as C,j as je,B as I,G as D,m as Ee,O as Me,a2 as oe,k as Se,M as Z,H as F}from"../chunks/index.97982355.js";import{_ as Ve}from"../chunks/preload-helper.a4192956.js";import{c as ze}from"../chunks/store.cdf38e91.js";function Le(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ie(Object(n),!0).forEach(function(r){Le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fe(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function He(t,e){if(t==null)return{};var n=Fe(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ne(t,e){return Ue(t)||Qe(t,e)||We(t,e)||Ye()}function Ue(t){if(Array.isArray(t))return t}function Qe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,o=!1,i=void 0;try{for(var a=t[Symbol.iterator](),c;!(r=(c=a.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(l){o=!0,i=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(o)throw i}}return n}}function We(t,e){if(t){if(typeof t=="string")return ce(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(t,e)}}function ce(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?le(Object(n),!0).forEach(function(r){Ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Je(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(o,i){return i(o)},r)}}function z(t){return function e(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=t.length?t.apply(this,o):function(){for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return e.apply(n,[].concat(o,c))}}}function Y(t){return{}.toString.call(t).includes("Object")}function Ke(t){return!Object.keys(t).length}function H(t){return typeof t=="function"}function Xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ze(t,e){return Y(e)||A("changeType"),Object.keys(e).some(function(n){return!Xe(t,n)})&&A("changeField"),e}function xe(t){H(t)||A("selectorType")}function $e(t){H(t)||Y(t)||A("handlerType"),Y(t)&&Object.values(t).some(function(e){return!H(e)})&&A("handlersType")}function et(t){t||A("initialIsRequired"),Y(t)||A("initialType"),Ke(t)&&A("initialContent")}function tt(t,e){throw new Error(t[e]||t.default)}var nt={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},A=z(tt)(nt),U={changes:Ze,selector:xe,handler:$e,initial:et};function rt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};U.initial(t),U.handler(e);var n={current:t},r=z(at)(n,e),o=z(it)(n),i=z(U.changes)(t),a=z(ot)(n);function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return U.selector(d),d(n.current)}function l(d){Je(r,o,i,a)(d)}return[c,l]}function ot(t,e){return H(e)?e(t.current):e}function it(t,e){return t.current=se(se({},t.current),e),e}function at(t,e,n){return H(e)?e(t.current):Object.keys(n).forEach(function(r){var o;return(o=e[r])===null||o===void 0?void 0:o.call(e,t.current[r])}),n}var ct={create:rt},lt={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.36.1/min/vs"}};function st(t){return function e(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=t.length?t.apply(this,o):function(){for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return e.apply(n,[].concat(o,c))}}}function ut(t){return{}.toString.call(t).includes("Object")}function ft(t){return t||ue("configIsRequired"),ut(t)||ue("configType"),t.urls?(dt(),{paths:{vs:t.urls.monacoBase}}):t}function dt(){console.warn(qe.deprecation)}function ht(t,e){throw new Error(t[e]||t.default)}var qe={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ue=st(ht)(qe),pt={config:ft},mt=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(o){return n.reduceRight(function(i,a){return a(i)},o)}};function Pe(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],Pe(t[n],e[n]))}),ae(ae({},t),e)}var gt={type:"cancelation",msg:"operation is manually canceled"};function J(t){var e=!1,n=new Promise(function(r,o){t.then(function(i){return e?o(gt):r(i)}),t.catch(o)});return n.cancel=function(){return e=!0},n}var vt=ct.create({config:lt,isInitialized:!1,resolve:null,reject:null,monaco:null}),Te=Ne(vt,2),N=Te[0],G=Te[1];function bt(t){var e=pt.config(t),n=e.monaco,r=He(e,["monaco"]);G(function(o){return{config:Pe(o.config,r),monaco:n}})}function _t(){var t=N(function(e){var n=e.monaco,r=e.isInitialized,o=e.resolve;return{monaco:n,isInitialized:r,resolve:o}});if(!t.isInitialized){if(G({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),J(K);if(window.monaco&&window.monaco.editor)return Ie(window.monaco),t.resolve(window.monaco),J(K);mt(yt,wt)(jt)}return J(K)}function yt(t){return document.body.appendChild(t)}function Ot(t){var e=document.createElement("script");return t&&(e.src=t),e}function wt(t){var e=N(function(r){var o=r.config,i=r.reject;return{config:o,reject:i}}),n=Ot("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function jt(){var t=N(function(n){var r=n.config,o=n.resolve,i=n.reject;return{config:r,resolve:o,reject:i}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){Ie(n),t.resolve(n)},function(n){t.reject(n)})}function Ie(t){N().monaco||G({monaco:t})}function Et(){return N(function(t){var e=t.monaco;return e})}var K=new Promise(function(t,e){return G({resolve:t,reject:e})}),fe={config:bt,init:_t,__getMonacoInstance:Et};function St(t){let e,n;return{c(){e=y("div"),n=y("div"),this.h()},l(r){e=O(r,"DIV",{style:!0});var o=w(e);n=O(o,"DIV",{class:!0}),w(n).forEach(p),o.forEach(p),this.h()},h(){_(n,"class","container svelte-1q8dqe7"),Ce(e,"width","100%")},m(r,o){P(r,e,o),m(e,n),t[3](n)},p:Q,i:Q,o:Q,d(r){r&&p(e),t[3](null)}}}function qt(t,e,n){let{code:r}=e,{bindCode:o}=e,i,a,c;const l={base:"vs-dark",inherit:!0,rules:[],colors:{"editor.foreground":"#E9B96E","editor.background":"#121015","editorCursor.foreground":"#BABDB6","editor.lineHighlightBackground":"#1B1820","editorLineNumber.foreground":"#BABDB6","editor.selectionBackground":"#2B282F","editor.inactiveSelectionBackground":"#2B282F"}},d=De();Ae(async()=>{const s=await Ve(()=>import("../chunks/editor.main.3a925e97.js").then(b=>b.e),["../chunks/editor.main.3a925e97.js","../chunks/preload-helper.a4192956.js","../assets/editor.215ae45d.css"],import.meta.url);fe.config({monaco:s.default}),a=await fe.init(),a.editor.defineTheme("custom-theme",l),i=a.editor.create(c,{value:r,language:"sql",glyphMargin:!1,theme:"custom-theme",fontSize:20,scrollbar:{useShadows:!1,vertical:"auto",horizontal:"auto",arrowSize:30}}),i.onDidChangeModelContent(()=>{const b=i.getValue();n(1,o=b),d("input",b)})}),ke(()=>{i&&r!==i.getValue()&&i.setValue(r)});function h(s){X[s?"unshift":"push"](()=>{c=s,n(0,c)})}return t.$$set=s=>{"code"in s&&n(2,r=s.code),"bindCode"in s&&n(1,o=s.bindCode)},[c,o,r,h]}class Pt extends x{constructor(e){super(),$(this,e,qt,St,ee,{code:2,bindCode:1})}}function de(t,e,n){const r=t.slice();return r[17]=e[n],r}function he(t,e,n){const r=t.slice();return r[20]=e[n],r}function pe(t,e,n){const r=t.slice();return r[23]=e[n],r}function me(t){let e,n,r,o,i,a,c,l,d,h,s,b,u,E,k;function B(g){t[11](g)}function q(g){t[12](g)}let V={};t[1].query!==void 0&&(V.code=t[1].query),t[1].query!==void 0&&(V.bindCode=t[1].query),o=new Pt({props:V}),X.push(()=>re(o,"code",B)),X.push(()=>re(o,"bindCode",q)),o.$on("input",t[9]);let j=t[4]&&ge(t),f=t[2]&&ye(t),v=t[3]&&Oe(t);return{c(){e=y("body"),n=y("div"),r=y("main"),we(o.$$.fragment),c=T(),j&&j.c(),l=T(),f&&f.c(),d=T(),v&&v.c(),h=T(),s=y("button"),b=C("Run Query"),this.h()},l(g){e=O(g,"BODY",{class:!0});var S=w(e);n=O(S,"DIV",{class:!0});var R=w(n);r=O(R,"MAIN",{class:!0});var M=w(r);je(o.$$.fragment,M),c=I(M),j&&j.l(M),l=I(M),f&&f.l(M),M.forEach(p),R.forEach(p),d=I(S),v&&v.l(S),h=I(S),s=O(S,"BUTTON",{class:!0});var te=w(s);b=D(te,"Run Query"),te.forEach(p),S.forEach(p),this.h()},h(){_(r,"class","svelte-1xi884m"),_(n,"class","content svelte-1xi884m"),_(s,"class","run-button svelte-1xi884m"),_(e,"class","svelte-1xi884m")},m(g,S){P(g,e,S),m(e,n),m(n,r),Ee(o,r,null),m(r,c),j&&j.m(r,null),m(r,l),f&&f.m(r,null),m(e,d),v&&v.m(e,null),m(e,h),m(e,s),m(s,b),u=!0,E||(k=Me(s,"click",t[13]),E=!0)},p(g,S){const R={};!i&&S&2&&(i=!0,R.code=g[1].query,oe(()=>i=!1)),!a&&S&2&&(a=!0,R.bindCode=g[1].query,oe(()=>a=!1)),o.$set(R),g[4]?j?j.p(g,S):(j=ge(g),j.c(),j.m(r,l)):j&&(j.d(1),j=null),g[2]?f?f.p(g,S):(f=ye(g),f.c(),f.m(r,null)):f&&(f.d(1),f=null),g[3]?v?v.p(g,S):(v=Oe(g),v.c(),v.m(e,h)):v&&(v.d(1),v=null)},i(g){u||(L(o.$$.fragment,g),u=!0)},o(g){W(o.$$.fragment,g),u=!1},d(g){g&&p(e),Se(o),j&&j.d(),f&&f.d(),v&&v.d(),E=!1,k()}}}function ge(t){let e,n,r,o,i,a,c=t[7],l=[];for(let s=0;s<c.length;s+=1)l[s]=ve(pe(t,c,s));let d=t[8],h=[];for(let s=0;s<d.length;s+=1)h[s]=_e(de(t,d,s));return{c(){e=y("div"),n=y("table"),r=y("thead"),o=y("tr");for(let s=0;s<l.length;s+=1)l[s].c();i=T(),a=y("tbody");for(let s=0;s<h.length;s+=1)h[s].c();this.h()},l(s){e=O(s,"DIV",{class:!0});var b=w(e);n=O(b,"TABLE",{class:!0});var u=w(n);r=O(u,"THEAD",{class:!0});var E=w(r);o=O(E,"TR",{class:!0});var k=w(o);for(let q=0;q<l.length;q+=1)l[q].l(k);k.forEach(p),E.forEach(p),i=I(u),a=O(u,"TBODY",{class:!0});var B=w(a);for(let q=0;q<h.length;q+=1)h[q].l(B);B.forEach(p),u.forEach(p),b.forEach(p),this.h()},h(){_(o,"class","svelte-1xi884m"),_(r,"class","sticky-header svelte-1xi884m"),_(a,"class","svelte-1xi884m"),_(n,"class","svelte-1xi884m"),_(e,"class","table-container svelte-1xi884m")},m(s,b){P(s,e,b),m(e,n),m(n,r),m(r,o);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(o,null);m(n,i),m(n,a);for(let u=0;u<h.length;u+=1)h[u]&&h[u].m(a,null)},p(s,b){if(b&128){c=s[7];let u;for(u=0;u<c.length;u+=1){const E=pe(s,c,u);l[u]?l[u].p(E,b):(l[u]=ve(E),l[u].c(),l[u].m(o,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=c.length}if(b&256){d=s[8];let u;for(u=0;u<d.length;u+=1){const E=de(s,d,u);h[u]?h[u].p(E,b):(h[u]=_e(E),h[u].c(),h[u].m(a,null))}for(;u<h.length;u+=1)h[u].d(1);h.length=d.length}},d(s){s&&p(e),Z(l,s),Z(h,s)}}}function ve(t){let e,n=t[23]+"",r,o;return{c(){e=y("th"),r=C(n),o=T(),this.h()},l(i){e=O(i,"TH",{class:!0});var a=w(e);r=D(a,n),o=I(a),a.forEach(p),this.h()},h(){_(e,"class","svelte-1xi884m")},m(i,a){P(i,e,a),m(e,r),m(e,o)},p(i,a){a&128&&n!==(n=i[23]+"")&&F(r,n)},d(i){i&&p(e)}}}function be(t){let e,n=t[20]+"",r;return{c(){e=y("td"),r=C(n),this.h()},l(o){e=O(o,"TD",{class:!0});var i=w(e);r=D(i,n),i.forEach(p),this.h()},h(){_(e,"class","svelte-1xi884m")},m(o,i){P(o,e,i),m(e,r)},p(o,i){i&256&&n!==(n=o[20]+"")&&F(r,n)},d(o){o&&p(e)}}}function _e(t){let e,n,r=t[17],o=[];for(let i=0;i<r.length;i+=1)o[i]=be(he(t,r,i));return{c(){e=y("tr");for(let i=0;i<o.length;i+=1)o[i].c();n=T(),this.h()},l(i){e=O(i,"TR",{class:!0});var a=w(e);for(let c=0;c<o.length;c+=1)o[c].l(a);n=I(a),a.forEach(p),this.h()},h(){_(e,"class","svelte-1xi884m")},m(i,a){P(i,e,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);m(e,n)},p(i,a){if(a&256){r=i[17];let c;for(c=0;c<r.length;c+=1){const l=he(i,r,c);o[c]?o[c].p(l,a):(o[c]=be(l),o[c].c(),o[c].m(e,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}},d(i){i&&p(e),Z(o,i)}}}function ye(t){let e,n,r,o,i,a,c;return{c(){e=y("div"),n=y("p"),r=C("Error: "),o=C(t[5]),i=T(),a=y("p"),c=C(t[6]),this.h()},l(l){e=O(l,"DIV",{class:!0,role:!0});var d=w(e);n=O(d,"P",{class:!0});var h=w(n);r=D(h,"Error: "),o=D(h,t[5]),h.forEach(p),i=I(d),a=O(d,"P",{class:!0});var s=w(a);c=D(s,t[6]),s.forEach(p),d.forEach(p),this.h()},h(){_(n,"class","font-error svelte-1xi884m"),_(a,"class","msg svelte-1xi884m"),_(e,"class","error svelte-1xi884m"),_(e,"role","alert")},m(l,d){P(l,e,d),m(e,n),m(n,r),m(n,o),m(e,i),m(e,a),m(a,c)},p(l,d){d&32&&F(o,l[5]),d&64&&F(c,l[6])},d(l){l&&p(e)}}}function Oe(t){let e,n,r,o;return{c(){e=y("div"),n=y("p"),r=C("Success: "),o=C(t[6]),this.h()},l(i){e=O(i,"DIV",{class:!0,role:!0});var a=w(e);n=O(a,"P",{class:!0});var c=w(n);r=D(c,"Success: "),o=D(c,t[6]),c.forEach(p),a.forEach(p),this.h()},h(){_(n,"class","font svelte-1xi884m"),_(e,"class","success svelte-1xi884m"),_(e,"role","alert")},m(i,a){P(i,e,a),m(e,n),m(n,r),m(n,o)},p(i,a){a&64&&F(o,i[6])},d(i){i&&p(e)}}}function Tt(t){let e,n,r=t[0]&&me(t);return{c(){r&&r.c(),e=ne()},l(o){r&&r.l(o),e=ne()},m(o,i){r&&r.m(o,i),P(o,e,i),n=!0},p(o,[i]){o[0]?r?(r.p(o,i),i&1&&L(r,1)):(r=me(o),r.c(),L(r,1),r.m(e.parentNode,e)):r&&(Be(),W(r,1,1,()=>{r=null}),Re())},i(o){n||(L(r),n=!0)},o(o){W(r),n=!1},d(o){r&&r.d(o),o&&p(e)}}}function It(t,e,n){let r=!1,o={query:"SELECT * FROM test_table;"},i=!1,a=!1,c=!1,l="",d="",h=[],s=[];ze.subscribe(f=>{n(0,r=f)});const b=async()=>{const f=await fetch("/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),v=await f.json();console.log(v),f.ok?k(v):B(v)},u=f=>{n(1,o.query=f.detail,o)},E=async()=>{await b()},k=f=>{f.data.result.data&&(n(4,c=!0),n(7,h=Object.keys(f.data.result.data[0])),n(8,s=f.data.result.data.map(v=>Object.values(v)))),n(3,a=!0),n(2,i=!1),n(6,d=""),n(6,d=f.data.result.message)},B=f=>{n(3,a=!1),n(2,i=!0),n(5,l=""),n(5,l=f.error),n(6,d=""),n(6,d=f.message)};function q(f){t.$$.not_equal(o.query,f)&&(o.query=f,n(1,o))}function V(f){t.$$.not_equal(o.query,f)&&(o.query=f,n(1,o))}return[r,o,i,a,c,l,d,h,s,u,E,q,V,()=>E()]}class Ct extends x{constructor(e){super(),$(this,e,It,Tt,ee,{})}}function Dt(t){let e,n;return e=new Ct({}),{c(){we(e.$$.fragment)},l(r){je(e.$$.fragment,r)},m(r,o){Ee(e,r,o),n=!0},p:Q,i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){W(e.$$.fragment,r),n=!1},d(r){Se(e,r)}}}class Rt extends x{constructor(e){super(),$(this,e,null,Dt,ee,{})}}export{Rt as component};
